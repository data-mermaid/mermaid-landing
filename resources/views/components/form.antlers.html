{{ section:script }}
<script src="https://www.google.com/recaptcha/api.js?render={{ config:app:recaptcha_site_key }}"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="{{ mix src='/js/recaptcha.js' }}"></script>
{{ /section:script }}

<div class="sets form">
    <div class="container">
        <div class="narrow-content">
            {{ if title }}
            <h3>{{ title }}</h3>
            {{ /if }}
            <div class="form-container">
                {{ form:create in="{ form_type:handle }" class="ajax-form" id="contact-form"}}
                {{ if success }}
                <div class="alert alert-success">
                    {{ success }}
                </div>
                {{ else }}
                <div class="alert alert-danger" id="error-ribbon" style="display: none;">
                </div>
                {{ if errors }}
                <div class="alert alert-danger">
                    {{ errors }}
                    {{ value }}<br>
                    {{ /errors }}
                </div>
                {{ /if }}

                <div class="alert alert-success d-none">
                    {{ trans:form.sent }}
                </div>
                <div class="alert alert-danger d-none">
                </div>

                <div class="row was-validation">
                    {{ fields }}
                    {{ if handle != 'project_id' }}
                    <div class="col-xs-12 {{ if width != '100' }} col-md-6 {{ /if }}">
                        <div class="field">
                            <label class="form-label">{{ display | trans  }}</label>
                            {{ if type == 'text' }}
                            <input name={{ handle }} id={{ handle }} type="text"
                                class="form-control {{ if error }} is-invalid{{ /if }}" value="{{ old }}">
                            {{ elseif type == 'textarea' }}
                            <textarea name={{ handle }} id={{ handle }} type="text"
                                class="form-control {{ if error }} is-invalid{{ /if }}">{{ old }}</textarea>
                            {{ /if }}
                            {{ if error }}
                            <div class="invalid-feedback">{{ error }}</div>
                            {{ /if }}
                        </div>
                    </div>
                    {{ else }}
                    {{ if handle == 'project_id' }}
                    <input name={{ handle }} id={{ handle }} type="hidden" value="{{ get:project_id }}">
                    {{ /if }}
                    {{ /if }}
                    {{ /fields }}
                </div>
                <div class="row form-footer">
                    <div class="col-md-6 col-xs-12">
                    </div>
                    <div class="col-md-6 col-xs-12 text-end">
                        <button class="btn btn-primary" id="btn-submit">{{ trans:form.submit }}</button>
                    </div>
                </div>
                {{ /if }}

                {{ /form:create }}
            </div>
        </div>
    </div>
</div>